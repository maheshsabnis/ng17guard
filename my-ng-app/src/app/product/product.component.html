<h1>The Product Information</h1>
<div class="container">
  <div class="form-group">
    <label>Product Id</label>
    <input type="text" class="form-control" [(ngModel)]="product.ProductId">
  </div>
  <div class="form-group">
    <label>Product Name</label>
    <input type="text" class="form-control" [(ngModel)]="product.ProductName">
  </div>
  <div class="form-group">
    <label>Category</label>
    <!-- <select class="form-control" [(ngModel)]="product.Category">
        @for (cat of categories; track $index) {
          <option value="{{cat}}">{{cat}}</option>
        }
    </select> -->
    <!--Parent is subscribing to the (onChange) event and reading value
     emitted by the child componet
    -->
    <app-select [DataSource]="categories" (onChange)="getCat($event)"
    [PropertyName]="product.Category"
    ></app-select>
  </div>
  <div class="form-group">
    <label>Manufacturer</label>
    <!-- <select class="form-control" [(ngModel)]="product.Manufacturer">
        @for (man of manufacturers; track $index) {
          <option value="{{man}}">{{man}}</option>
        }
    </select> -->
     <!--Parent is subscribing to the (onChange) event and reading value
     emitted by the child componet
    -->
    <app-select [DataSource]="manufacturers" (onChange)="getMan($event)"
    [PropertyName]="product.Manufacturer"
    ></app-select>
  </div>
  <div class="form-group">
    <label>Price</label>
    <input type="number" class="form-control" [(ngModel)]="product.Price">
  </div>
  <div class="btn-group-lg">
    <button class="btn btn-warning" (click)="clear()">Clear</button>
    <button class="btn btn-success" (click)="save()">Save</button>
  </div>
  <br/>
  <!--Table is generated using hard-coding-->
<!-- <table class="table table-bordered table-striped">
  <thead>
     <tr>
       <th>Product Id</th>
       <th>Product Name</th>
       <th>Category</th>
       <th>Manufacturer</th>
       <th>Price</th>
     </tr>
  </thead>
  <tbody>
     @for (prd of products; track $index) {
      <tr>
         <td>{{prd.ProductId}}</td>
         <td>{{prd.ProductName}}</td>
         <td>{{prd.Category}}</td>
         <td>{{prd.Manufacturer}}</td>
         <td>{{prd.Price}}</td>
      </tr>
     }
  </tbody>
</table> -->
<!--Dynamically generating the Table-->
<table class="table table-bordered table-striped">
  <thead>
     <tr>
        @for (col of columns; track $index) {
          <th>{{col}}</th>
        }
     </tr>
  </thead>
  <tbody>
    @for (prd of products; track $index) {
      <tr (click)="onRowClick(prd)">
        @for (col of columns; track $index) {
          <td>{{prd[col]}}</td>
        }
      </tr>
    }
  </tbody>
</table>
</div>

